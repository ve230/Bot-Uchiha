let antilinkAtivo = {};

module.exports = {
    name: "antilink",
    execute: async (sock, msg, args) => {
        const jid = msg.key.remoteJid;
        const acao = args[0] ? args[0].toLowerCase() : "status";

        if (acao === "on") {
            antilinkAtivo[jid] = true;
            await sock.sendMessage(jid, { text: "‚úÖ Anti-link ativado!" });
        } else if (acao === "off") {
            antilinkAtivo[jid] = false;
            await sock.sendMessage(jid, { text: "‚ö†Ô∏è Anti-link desativado!" });
        } else {
            const status = antilinkAtivo[jid] ? "Ativo" : "Desativado";
            await sock.sendMessage(jid, { text: `üîó Anti-link est√°: ${status}` });
        }
    }
};

// Para monitorar mensagens
module.exports.verificarLink = async (sock, msg) => {
    const jid = msg.key.remoteJid;
    if (!antilinkAtivo[jid]) return;
    const texto = msg.message.conversation || msg.message.extendedTextMessage?.text;
    if (!texto) return;

    if (texto.includes("http://") || texto.includes("https://") || texto.includes("wa.me/")) {
        await sock.sendMessage(jid, { text: `‚ö†Ô∏è Link detectado e bloqueado!` });
        // Aqui voc√™ pode adicionar remo√ß√£o de mensagem se quiser
    }
};